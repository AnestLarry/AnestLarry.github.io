<!DOCTYPE html>
<html lang="zh-CN">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Golang - cross-compiling | 66ws</title>
  <link rel="stylesheet" href="/static/css/highlight-11.9.0.css" />
  <link rel="stylesheet" href="/static/css/global.css" />
  <link rel="stylesheet" href="/static/css/post.css" />
</head>

<body>
  <div class="header">
  <h1>66ws</h1>
</div>
<div class="nav">
  <a href="/">Index</a>
  <a href="#">About</a>
</div>
  <!-- 主体内容 -->
  <div class="container">
    <!-- 博客项 -->
    <div class="post">
      <h3 class="post-title">Golang - cross-compiling</h3>
      <h4 class="datetime">Published Date: 2019-06-16 15:57:39Z</h4>
      <hr>
      <div class="post-content">
        <p>About the Golang cross-compiling,say it simply that Windows build codes can run not only in Windows,but in Linux (Mac not test).<br />
I work between Win and Linux,may I have build the code in Windows easy,but it in another pc maybe difficult.At least,you have to redownload the libs you use.And I have try the Cross-compiling.<br />
In command or Terminal(installed golang &gt;=go1.11.2),you can run “go version” to get your system’s info,save it and use it later.</p>
<p>Set Environment var<br />
Windows:<br />
in commmand : <code>set var = value</code><br />
Linux :<br />
in terminal :<code>export var = value</code></p>
<p>Keyin the command “go env” and find out the keys “GOOS”(windows,linux) and “GOARCH”(amd64 , arm).<br />
If error with gcc,add up the gcc key ;<br />
if error with CGO,set CGO_ENABLED=0 ;<br />
if error with ‘cannot find package <code>golang.org/x/sys/unix</code>,<code>git clone https://github.com/golang/sys.git</code> to gopath’s <code>golang.org/x/sys</code>.</p>
<p>At last go build the code.</p>
<p>Example:<br />
Windows(Windows's info:windows,amd64) build Binary executable file in Linux(Linux's info:linux ,arm):<br />
keyin command</p>
<pre><code class="language-shell">set GOOS=&quot;linux&quot;  
set GOARCH=&quot;arm&quot;  
set CGO_ENABLED=0  
set GOEXE=  
go build helloworld.go
</code></pre>
<p>Same infos,Linux build Binary executable file in Windows:</p>
<pre><code class="language-shell">set GOOS=&quot;windows&quot;  
set GOARCH=&quot;amd64&quot;  
set GOEXE=.exe  
go build helloworld.go
</code></pre>
<p>Get helloworld.exe and run in windows;get helloword and run in Linux.</p>
<p>关于Golang交叉编译，简单地说，Windows构建代码不仅可以在Windows中运行，而且可以在Linux中运行（Mac不测试）。<br />
我在Win和Linux之间工作，我可以在Windows中轻松构建代码，但在另一台PC中可能很难。至少，你必须重新下载你使用的库。我尝试了交叉编译。<br />
在命令或Termial（安装golang&gt; = go1.11.2）中，您可以运行“go version”来获取系统信息，保存并稍后使用。</p>
<p>设置环境变量<br />
Windows:<br />
命令行 : <code>set var = value</code>
Linux :<br />
终端 : <code>export var = value</code></p>
<p>键入命令“go env”并找出键“GOOS”（windows，linux）和“GOARCH”（amd64，arm）。<br />
如果gcc出错，请加上gcc键;<br />
如果CGO出错，则设置CGO_ENABLED = 0;<br />
如果错误'找不到包<code>golang.org/x/sys/unix</code>,就git clone <code>https://github.com/golang/sys.git</code>到gopath的<code>golang.org/x/sys</code>。</p>
<p>最后去构建代码。</p>
<p>例：<br />
Windows（Windows的信息：windows，amd64）在Linux中构建二进制可执行文件（Linux的信息：linux，arm）：<br />
键入命令</p>
<pre><code class="language-shell">set GOOS =&quot;linux&quot;
set GOARCH =&quot;arm&quot;  
set CGO_ENABLED = 0  
set GOEXE =  
go build helloworld.go
</code></pre>
<p>相同的信息，Linux构建Windows中的二进制可执行文件：</p>
<pre><code class="language-shell">export GOOS =&quot;windows&quot;  
export GOARCH =&quot;amd64&quot;  
export GOEXE = .exe  
go build helloworld.go
</code></pre>
<p>获取helloworld.exe并在Windows中运行;获取helloword并在Linux中运行</p>

      </div>
      <div class="post-meta">
        <span>2019-06-16</span>
        
            <span>Category: 
                
                    <a href="/categories/Program/index.html">Program</a>, 
                
                    <a href="/categories/Golang/index.html">Golang</a>
                
            </span>
        
        
      </div>
    </div>
  </div>
  <script src="/static/js/highlightjs-11.9.0.min.js"></script>
    <script>hljs.highlightAll();</script>
 </body>

</html>